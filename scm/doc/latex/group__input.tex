\hypertarget{group__input}{}\section{gmtb\+\_\+scm\+\_\+input}
\label{group__input}\index{gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}}


Contains input-\/related subroutines -- reading in model configuration from file or the command line and reading in the case initial conditions and forcing; also contains reference profile input (temporarily hard-\/coded).  


\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \hyperlink{group__input_ga12863f4403aa8cec95a703d7820eae9b}{gmtb\+\_\+scm\+\_\+input\+::get\+\_\+reference\+\_\+profile} (nlev, pres, T, qv, ozone)
\begin{DoxyCompactList}\small\item\em Subroutine to get reference profile to use above the case data (temporarily hard-\/coded profile) \end{DoxyCompactList}\item 
subroutine \hyperlink{group__input_gac2f83200aaf1166b59444fcc3ec14f5c}{gmtb\+\_\+scm\+\_\+input\+::get\+\_\+reference\+\_\+profile\+\_\+old} (nlev, pres, T, qv, ozone)
\begin{DoxyCompactList}\small\item\em Subroutine to get reference profile to use above the case data (temporarily hard-\/coded profile) \end{DoxyCompactList}\item 
subroutine \hyperlink{group__input_gac802d5288c736faf2a5045c7f50b5f23}{gmtb\+\_\+scm\+\_\+input\+::check} (status)
\begin{DoxyCompactList}\small\item\em Generic subroutine to check for net\+C\+DF I/O errors. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
subroutine \hyperlink{group__input_ga53e9e5313d4dfa2d2f917d212f92f636}{gmtb\+\_\+scm\+\_\+input\+::get\+\_\+config\+\_\+nml} (experiment\+\_\+name, model\+\_\+name, physics\+\_\+suite, case\+\_\+name, dt, time\+\_\+scheme, runtime, output\+\_\+frequency,   swrad\+\_\+frequency, lwrad\+\_\+frequency, n\+\_\+levels, output\+\_\+dir, output\+\_\+file, thermo\+\_\+forcing\+\_\+type, mom\+\_\+forcing\+\_\+type, relax\+\_\+time)
\begin{DoxyCompactList}\small\item\em Subroutine to get basic model configuration data from a namelist file (whose name is specified as the first argument on the command line) and from data entered on the command line with the format\+: \char`\"{}var1=\textquotesingle{}string\textquotesingle{} var2=d.\+d var3=i\char`\"{}. Namelist variables listed on the command line override those that are specified in the external namelist file. The case configuration namelist variables are also written out to a namelist file placed in the output directory. Note\+: This routine uses G\+E\+T\+\_\+\+C\+O\+M\+M\+A\+ND which is an intrinsic routine in the Fortran 2003 standard. This requires that the compiler supports this standard. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
subroutine \hyperlink{group__input_ga0941c411598781019aef6c3a047a040c}{gmtb\+\_\+scm\+\_\+input\+::get\+\_\+case\+\_\+init} (case\+\_\+name, input\+\_\+nlev, input\+\_\+ntimes, input\+\_\+pres, input\+\_\+time, input\+\_\+height, input\+\_\+thetail,   input\+\_\+qt, input\+\_\+ql, input\+\_\+qi, input\+\_\+u, input\+\_\+v, input\+\_\+tke, input\+\_\+ozone, input\+\_\+lat, input\+\_\+lon, input\+\_\+pres\+\_\+surf, input\+\_\+\+T\+\_\+surf,   input\+\_\+w\+\_\+ls, input\+\_\+omega, input\+\_\+u\+\_\+g, input\+\_\+v\+\_\+g, input\+\_\+u\+\_\+nudge, input\+\_\+v\+\_\+nudge, input\+\_\+\+T\+\_\+nudge, input\+\_\+thil\+\_\+nudge, input\+\_\+qt\+\_\+nudge,   input\+\_\+d\+T\+\_\+dt\+\_\+rad, input\+\_\+h\+\_\+advec\+\_\+thetail, input\+\_\+h\+\_\+advec\+\_\+qt, input\+\_\+v\+\_\+advec\+\_\+thetail, input\+\_\+v\+\_\+advec\+\_\+qt)
\begin{DoxyCompactList}\small\item\em Subroutine to read the net\+C\+DF file containing case initialization and forcing. The forcing files (net\+C\+D\+F4) should be located in the \char`\"{}processed\+\_\+case\+\_\+input\char`\"{} directory. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Contains input-\/related subroutines -- reading in model configuration from file or the command line and reading in the case initial conditions and forcing; also contains reference profile input (temporarily hard-\/coded). 



\subsection{Function/\+Subroutine Documentation}
\index{gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}!check@{check}}
\index{check@{check}!gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}}
\subsubsection[{\texorpdfstring{check(status)}{check(status)}}]{\setlength{\rightskip}{0pt plus 5cm}subroutine gmtb\+\_\+scm\+\_\+input\+::check (
\begin{DoxyParamCaption}
\item[{integer, intent(in)}]{status}
\end{DoxyParamCaption}
)}\hypertarget{group__input_gac802d5288c736faf2a5045c7f50b5f23}{}\label{group__input_gac802d5288c736faf2a5045c7f50b5f23}


Generic subroutine to check for net\+C\+DF I/O errors. 



Definition at line 392 of file gmtb\+\_\+scm\+\_\+input.\+f90.



Referenced by gmtb\+\_\+scm\+\_\+input\+::get\+\_\+case\+\_\+init(), gmtb\+\_\+scm\+\_\+output\+::output\+\_\+append(), and gmtb\+\_\+scm\+\_\+output\+::output\+\_\+init().

\index{gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}!get\+\_\+case\+\_\+init@{get\+\_\+case\+\_\+init}}
\index{get\+\_\+case\+\_\+init@{get\+\_\+case\+\_\+init}!gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}}
\subsubsection[{\texorpdfstring{get\+\_\+case\+\_\+init(case\+\_\+name, input\+\_\+nlev, input\+\_\+ntimes, input\+\_\+pres, input\+\_\+time, input\+\_\+height, input\+\_\+thetail,   input\+\_\+qt, input\+\_\+ql, input\+\_\+qi, input\+\_\+u, input\+\_\+v, input\+\_\+tke, input\+\_\+ozone, input\+\_\+lat, input\+\_\+lon, input\+\_\+pres\+\_\+surf, input\+\_\+\+T\+\_\+surf,   input\+\_\+w\+\_\+ls, input\+\_\+omega, input\+\_\+u\+\_\+g, input\+\_\+v\+\_\+g, input\+\_\+u\+\_\+nudge, input\+\_\+v\+\_\+nudge, input\+\_\+\+T\+\_\+nudge, input\+\_\+thil\+\_\+nudge, input\+\_\+qt\+\_\+nudge,   input\+\_\+d\+T\+\_\+dt\+\_\+rad, input\+\_\+h\+\_\+advec\+\_\+thetail, input\+\_\+h\+\_\+advec\+\_\+qt, input\+\_\+v\+\_\+advec\+\_\+thetail, input\+\_\+v\+\_\+advec\+\_\+qt)}{get_case_init(case_name, input_nlev, input_ntimes, input_pres, input_time, input_height, input_thetail,   input_qt, input_ql, input_qi, input_u, input_v, input_tke, input_ozone, input_lat, input_lon, input_pres_surf, input_T_surf,   input_w_ls, input_omega, input_u_g, input_v_g, input_u_nudge, input_v_nudge, input_T_nudge, input_thil_nudge, input_qt_nudge,   input_dT_dt_rad, input_h_advec_thetail, input_h_advec_qt, input_v_advec_thetail, input_v_advec_qt)}}]{\setlength{\rightskip}{0pt plus 5cm}subroutine gmtb\+\_\+scm\+\_\+input\+::get\+\_\+case\+\_\+init (
\begin{DoxyParamCaption}
\item[{character(len=$\ast$), intent(in)}]{case\+\_\+name, }
\item[{integer, intent(out)}]{input\+\_\+nlev, }
\item[{integer, intent(out)}]{input\+\_\+ntimes, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+pres, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+time, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+height, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+thetail, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+qt, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+ql, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+qi, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+u, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+v, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+tke, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+ozone, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+lat, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+lon, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+pres\+\_\+surf, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{input\+\_\+\+T\+\_\+surf, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+w\+\_\+ls, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+omega, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+u\+\_\+g, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+v\+\_\+g, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+u\+\_\+nudge, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+v\+\_\+nudge, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+\+T\+\_\+nudge, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+thil\+\_\+nudge, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+qt\+\_\+nudge, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+d\+T\+\_\+dt\+\_\+rad, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+h\+\_\+advec\+\_\+thetail, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+h\+\_\+advec\+\_\+qt, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+v\+\_\+advec\+\_\+thetail, }
\item[{real(kind=dp), dimension(\+:,\+:), intent(out), allocatable}]{input\+\_\+v\+\_\+advec\+\_\+qt}
\end{DoxyParamCaption}
)}\hypertarget{group__input_ga0941c411598781019aef6c3a047a040c}{}\label{group__input_ga0941c411598781019aef6c3a047a040c}


Subroutine to read the net\+C\+DF file containing case initialization and forcing. The forcing files (net\+C\+D\+F4) should be located in the \char`\"{}processed\+\_\+case\+\_\+input\char`\"{} directory. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em case\+\_\+name} & this routine expects to find \char`\"{}case\+\_\+name.\+nc\char`\"{} in the processed\+\_\+case\+\_\+input dir\\
\hline
\mbox{\tt out}  & {\em input\+\_\+nlev} & number of levels in the input file\\
\hline
\mbox{\tt out}  & {\em input\+\_\+ntimes} & number of times represented in the input file\\
\hline
\mbox{\tt out}  & {\em input\+\_\+pres} & input file pressure levels (Pa)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+time} & input file times (seconds since the beginning of the case)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+height} & height of the pressure levels\\
\hline
\mbox{\tt out}  & {\em input\+\_\+thetail} & ice-\/liquid water potential temperature profile (K)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+qt} & total water specific humidity profile (kg kg$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+ql} & liquid water specific humidity profile (kg kg$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+qi} & ice water specific humidity profile (kg kg$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+u} & east-\/west horizontal wind profile (m s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+v} & north-\/south horizontal wind profile (m s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+tke} & T\+KE profile (m$^\wedge$2 s$^\wedge$-\/2)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+ozone} & ozone profile (kg kg$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+lat} & time-\/series of column latitude\\
\hline
\mbox{\tt out}  & {\em input\+\_\+lon} & time-\/series of column longitude\\
\hline
\mbox{\tt out}  & {\em input\+\_\+pres\+\_\+surf} & time-\/series of surface pressure (Pa)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+t\+\_\+surf} & time-\/series of surface temperature (K)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+w\+\_\+ls} & 2D vertical velocity (m s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+omega} & 2D pressure vertical velocity (Pa s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+u\+\_\+g} & 2D geostrophic east-\/west wind (m s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+v\+\_\+g} & 2D geostrophic north-\/south wind (m s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+u\+\_\+nudge} & 2D nudging east-\/west wind (m s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+v\+\_\+nudge} & 2D nudging north-\/south wind (m s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+t\+\_\+nudge} & 2D nudging abs. temperature (K)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+thil\+\_\+nudge} & 2D nudging liq. pot. temperature (K)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+qt\+\_\+nudge} & 2D nudging specific humidity (kg kg$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+dt\+\_\+dt\+\_\+rad} & 2D radiative heating rate (K s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+h\+\_\+advec\+\_\+thetail} & 2D theta\+\_\+il tendency due to large-\/scale horizontal advection (K s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+h\+\_\+advec\+\_\+qt} & 2D q\+\_\+t tendency due to large-\/scale horizontal advection (kg kg$^\wedge$-\/1 s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+v\+\_\+advec\+\_\+thetail} & 2D theta\+\_\+il tendency due to large-\/scale vertical advection (K s$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em input\+\_\+v\+\_\+advec\+\_\+qt} & 2D q\+\_\+t tendency due to large-\/scale horizontal vertical (kg kg$^\wedge$-\/1 s$^\wedge$-\/1) \\
\hline
\end{DoxyParams}
\hypertarget{group__input_get_case_init_alg}{}\subsection{Algorithm}\label{group__input_get_case_init_alg}

\begin{DoxyItemize}
\item Open the case input file found in the processed\+\_\+case\+\_\+input dir corresponding to the experiment name.
\item Get the dimensions (global group).
\item Allocate the dimension variables.
\item Read in the dimension variables.
\item Read in the initial conditions.
\begin{DoxyItemize}
\item Find group ncid for initial group.
\item Allocate the initial profiles.
\item Read in the initial profiles. The variable names in all input files are expected to be identical.
\end{DoxyItemize}
\item Read in the forcing data.
\begin{DoxyItemize}
\item Find group ncid for forcing group.
\item (Recall that multidimensional arrays need to be read in with the order of dimensions reversed from the net\+C\+DF file).
\item Allocate the time-\/series and 2D forcing data.
\item Read in the time-\/series and 2D forcing data.
\end{DoxyItemize}
\end{DoxyItemize}

Definition at line 168 of file gmtb\+\_\+scm\+\_\+input.\+f90.



References gmtb\+\_\+scm\+\_\+input\+::check().



Referenced by gmtb\+\_\+scm\+\_\+main\+::gmtb\+\_\+scm\+\_\+main\+\_\+sub().

\index{gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}!get\+\_\+config\+\_\+nml@{get\+\_\+config\+\_\+nml}}
\index{get\+\_\+config\+\_\+nml@{get\+\_\+config\+\_\+nml}!gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}}
\subsubsection[{\texorpdfstring{get\+\_\+config\+\_\+nml(experiment\+\_\+name, model\+\_\+name, physics\+\_\+suite, case\+\_\+name, dt, time\+\_\+scheme, runtime, output\+\_\+frequency,   swrad\+\_\+frequency, lwrad\+\_\+frequency, n\+\_\+levels, output\+\_\+dir, output\+\_\+file, thermo\+\_\+forcing\+\_\+type, mom\+\_\+forcing\+\_\+type, relax\+\_\+time)}{get_config_nml(experiment_name, model_name, physics_suite, case_name, dt, time_scheme, runtime, output_frequency,   swrad_frequency, lwrad_frequency, n_levels, output_dir, output_file, thermo_forcing_type, mom_forcing_type, relax_time)}}]{\setlength{\rightskip}{0pt plus 5cm}subroutine gmtb\+\_\+scm\+\_\+input\+::get\+\_\+config\+\_\+nml (
\begin{DoxyParamCaption}
\item[{character(len=80), intent(out)}]{experiment\+\_\+name, }
\item[{character(len=80), intent(out)}]{model\+\_\+name, }
\item[{character(len=80), intent(out)}]{physics\+\_\+suite, }
\item[{character(len=80), intent(out)}]{case\+\_\+name, }
\item[{real(kind=dp), intent(out)}]{dt, }
\item[{integer, intent(out)}]{time\+\_\+scheme, }
\item[{real(kind=dp), intent(out)}]{runtime, }
\item[{real(kind=dp), intent(out)}]{output\+\_\+frequency, }
\item[{real(kind=dp), intent(out)}]{swrad\+\_\+frequency, }
\item[{real(kind=dp), intent(out)}]{lwrad\+\_\+frequency, }
\item[{integer, intent(out)}]{n\+\_\+levels, }
\item[{character(len=80), intent(out)}]{output\+\_\+dir, }
\item[{character(len=80), intent(out)}]{output\+\_\+file, }
\item[{integer, intent(out)}]{thermo\+\_\+forcing\+\_\+type, }
\item[{integer, intent(out)}]{mom\+\_\+forcing\+\_\+type, }
\item[{real(kind=dp), intent(out)}]{relax\+\_\+time}
\end{DoxyParamCaption}
)}\hypertarget{group__input_ga53e9e5313d4dfa2d2f917d212f92f636}{}\label{group__input_ga53e9e5313d4dfa2d2f917d212f92f636}


Subroutine to get basic model configuration data from a namelist file (whose name is specified as the first argument on the command line) and from data entered on the command line with the format\+: \char`\"{}var1=\textquotesingle{}string\textquotesingle{} var2=d.\+d var3=i\char`\"{}. Namelist variables listed on the command line override those that are specified in the external namelist file. The case configuration namelist variables are also written out to a namelist file placed in the output directory. Note\+: This routine uses G\+E\+T\+\_\+\+C\+O\+M\+M\+A\+ND which is an intrinsic routine in the Fortran 2003 standard. This requires that the compiler supports this standard. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em experiment\+\_\+name} & name of the experiment configuration file (usually case name)\\
\hline
\mbox{\tt out}  & {\em model\+\_\+name} & name of the host model (currently only G\+FS supported)\\
\hline
\mbox{\tt out}  & {\em physics\+\_\+suite} & name of the physics suite name (currently only G\+F\+S\+\_\+operational supported)\\
\hline
\mbox{\tt out}  & {\em case\+\_\+name} & name of case initialization and forcing dataset\\
\hline
\mbox{\tt out}  & {\em dt} & time step in seconds\\
\hline
\mbox{\tt out}  & {\em runtime} & total runtime in seconds\\
\hline
\mbox{\tt out}  & {\em output\+\_\+frequency} & freqency of output writing in seconds\\
\hline
\mbox{\tt out}  & {\em swrad\+\_\+frequency} & freqency of calling SW radiation in seconds\\
\hline
\mbox{\tt out}  & {\em lwrad\+\_\+frequency} & freqency of calling SW radiation in seconds\\
\hline
\mbox{\tt out}  & {\em n\+\_\+levels} & number of model levels (currently only 64 supported)\\
\hline
\mbox{\tt out}  & {\em time\+\_\+scheme} & 1 =$>$ forward Euler, 2 =$>$ filtered leapfrog\\
\hline
\mbox{\tt out}  & {\em output\+\_\+dir} & name of the output directory\\
\hline
\mbox{\tt out}  & {\em output\+\_\+file} & name of the output file (without the file extension)\\
\hline
\mbox{\tt out}  & {\em thermo\+\_\+forcing\+\_\+type} & 1\+: \char`\"{}revealed forcing\char`\"{}, 2\+: \char`\"{}horizontal advective forcing\char`\"{}, 3\+: \char`\"{}relaxation forcing\char`\"{}\\
\hline
\mbox{\tt out}  & {\em mom\+\_\+forcing\+\_\+type} & 1\+: \char`\"{}revealed forcing\char`\"{}, 2\+: \char`\"{}horizontal advective forcing\char`\"{}, 3\+: \char`\"{}relaxation forcing\char`\"{}\\
\hline
\mbox{\tt out}  & {\em relax\+\_\+time} & relaxation time scale (s) \\
\hline
\end{DoxyParams}
\hypertarget{group__input_get_config_alg}{}\subsection{Algorithm}\label{group__input_get_config_alg}
Define default values for case configuration (to be overridden by external namelist file or command line arguments)

Parse the command line arguments.


\begin{DoxyItemize}
\item Get the entire command used to invoke the S\+CM (including arguments)
\item Discard S\+CM invocation command.
\item Get experiment name from first argument (if not present, use default values in this source file)
\item Put remaining command line arguments into \char`\"{}internal\char`\"{} namelist to read in after the external file.
\end{DoxyItemize}

Attempt to read in external namelist file.

\char`\"{}\+Read\char`\"{} in internal namelist variables from command line.

Check for namelist reading errors. If errors are found, output the namelist variables that were loaded to console and ask user for input on whether to proceed.

If there was an error reading from the command line, use the default values of the namelist variables and check with the user whether to continue.

Write the case\+\_\+config namelist variables to an output file in the output directory for inspection or re-\/use.

Definition at line 28 of file gmtb\+\_\+scm\+\_\+input.\+f90.



Referenced by gmtb\+\_\+scm\+\_\+main\+::gmtb\+\_\+scm\+\_\+main\+\_\+sub().

\index{gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}!get\+\_\+reference\+\_\+profile@{get\+\_\+reference\+\_\+profile}}
\index{get\+\_\+reference\+\_\+profile@{get\+\_\+reference\+\_\+profile}!gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}}
\subsubsection[{\texorpdfstring{get\+\_\+reference\+\_\+profile(nlev, pres, T, qv, ozone)}{get_reference_profile(nlev, pres, T, qv, ozone)}}]{\setlength{\rightskip}{0pt plus 5cm}subroutine gmtb\+\_\+scm\+\_\+input\+::get\+\_\+reference\+\_\+profile (
\begin{DoxyParamCaption}
\item[{integer, intent(out)}]{nlev, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{pres, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{T, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{qv, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{ozone}
\end{DoxyParamCaption}
)}\hypertarget{group__input_ga12863f4403aa8cec95a703d7820eae9b}{}\label{group__input_ga12863f4403aa8cec95a703d7820eae9b}


Subroutine to get reference profile to use above the case data (temporarily hard-\/coded profile) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em nlev} & number of pressure levels in the reference profile\\
\hline
\mbox{\tt out}  & {\em pres} & reference profile pressure (Pa)\\
\hline
\mbox{\tt out}  & {\em t} & reference profile temperature (K)\\
\hline
\mbox{\tt out}  & {\em qv} & reference profile specific humidity (kg kg$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em ozone} & reference profile ozone concentration (kg kg$^\wedge$-\/1) \\
\hline
\end{DoxyParams}


Definition at line 323 of file gmtb\+\_\+scm\+\_\+input.\+f90.



Referenced by gmtb\+\_\+scm\+\_\+main\+::gmtb\+\_\+scm\+\_\+main\+\_\+sub().

\index{gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}!get\+\_\+reference\+\_\+profile\+\_\+old@{get\+\_\+reference\+\_\+profile\+\_\+old}}
\index{get\+\_\+reference\+\_\+profile\+\_\+old@{get\+\_\+reference\+\_\+profile\+\_\+old}!gmtb\+\_\+scm\+\_\+input@{gmtb\+\_\+scm\+\_\+input}}
\subsubsection[{\texorpdfstring{get\+\_\+reference\+\_\+profile\+\_\+old(nlev, pres, T, qv, ozone)}{get_reference_profile_old(nlev, pres, T, qv, ozone)}}]{\setlength{\rightskip}{0pt plus 5cm}subroutine gmtb\+\_\+scm\+\_\+input\+::get\+\_\+reference\+\_\+profile\+\_\+old (
\begin{DoxyParamCaption}
\item[{integer, intent(out)}]{nlev, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{pres, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{T, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{qv, }
\item[{real(kind=dp), dimension(\+:), intent(out), allocatable}]{ozone}
\end{DoxyParamCaption}
)}\hypertarget{group__input_gac2f83200aaf1166b59444fcc3ec14f5c}{}\label{group__input_gac2f83200aaf1166b59444fcc3ec14f5c}


Subroutine to get reference profile to use above the case data (temporarily hard-\/coded profile) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em nlev} & number of pressure levels in the reference profile\\
\hline
\mbox{\tt out}  & {\em pres} & reference profile pressure (Pa)\\
\hline
\mbox{\tt out}  & {\em t} & reference profile temperature (K)\\
\hline
\mbox{\tt out}  & {\em qv} & reference profile specific humidity (kg kg$^\wedge$-\/1)\\
\hline
\mbox{\tt out}  & {\em ozone} & reference profile ozone concentration (kg kg$^\wedge$-\/1) \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000013}{Todo}]write a more sophisticated reference profile subroutine (can choose between reference profiles) \end{DoxyRefDesc}



\begin{DoxyItemize}
\item For the prototype, the \textquotesingle{}Mc\+Clatchey\textquotesingle{} sounding used in Jennifer Fletcher\textquotesingle{}s code is hardcoded. 
\end{DoxyItemize}

Definition at line 362 of file gmtb\+\_\+scm\+\_\+input.\+f90.

